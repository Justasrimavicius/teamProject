<!DOCTYPE html>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>
<div id="burbulas"></div>
<script>

    // Zodziai
    const myWords = [['UNIVERSITY', 193], ['THAT', 85], ['STUDENTS', 56], ['HAVE', 44], 
                    ['BY', 39], ['JUST', 35], ['WHAT', 33], ['CAN', 33], ['ALL', 31], 
                    ['WHO', 29], ['HAS', 29], ['STUDENT', 28], ['BECAUSE', 27], 
                    ['THEY', 26], ['NOT', 26], ['WE', 26], ['AN', 25], ['OUT', 24],
                    ['HIS', 24], ['ABOUT', 23], ['IDAHO', 21], ['UNIVERSE', 21],
                    ['HE', 21], ['WILL', 21], ['LIKE', 20], ['STATE', 19], ['WHEN', 19],
                    ['SHE', 19], ['ITâ€™S', 19], ['HOW', 18], ['THEIR', 17], ['FIRST', 17],
                    ['YOUR', 17], ['FOUND', 16], ['HER', 16], ['WHERE', 16], ['GET', 16], 
                    ['ANY', 16], ['CAMPUS', 15], ['BEEN', 15], ['OUR', 15], ['MICHIGAN', 15],
                    ['OTHER', 15], ['KNOW', 15], ['AFTER', 14], ['GO', 13], ['INTO', 13], 
                    ['THERE', 13], ['WOULD', 13]];

    const spalvos = ["#1E90FF", "#191970", "#000000", "#D2691E", "#DC143C", "#2F4F4F", "#9400D3", "#B22222", "#4B0082", "#808000"]    

    // Cloudo dimensionai
    const margin = {top: 10, right: 10, bottom: 10, left: 10},
        width = 450 - margin.left - margin.right,
        height = 450 - margin.top - margin.bottom;
    
    // append the svg object to the body of the page (karoce be sito neveiks XDDD)
    const svg = d3.select("#burbulas").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
      .append("g")
        .attr("transform",
              "translate(" + margin.left + "," + margin.top + ")");

    //Pacio layouto kurimas    
    const layout = d3.layout.cloud()
      .size([width, height])
      .words(myWords.map(function(d) { return {text: d[0], size: d[1]}}))
      .padding(3)        //Tarpas tarp zodziu
      .rotate(function() { return ~~(Math.random() * 2) * 90})       // Zodziu pasisukimas, jis yra random galima padaryt ji vienoda
      .fontSize(function(d) { return d.size; })      // zodziu dydis pagal turimus skaicius, kadangi fonto dydis atitinka frequency
                                                    //tai galima dalint is skaiciaus arba kazkaip suzaist su skaiciais
      .on("end", draw);
    layout.start();
    
    //Layouto atvaizdavimas
    function draw(words) {
      svg
        .append("g")
          .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")
          .selectAll("text")
            .data(words)
          .enter().append("text")
            .style("font-size", function(d) { return d.size; }) //atitinkamai reiks ir cia pakeist kadangi sitas dalykas actually piesia 
            .style("fill", spalvos[Math.floor(Math.random() * 10)]) //spalvos 
            .attr("text-anchor", "middle")
            .style("font-family", "Impact")
            .attr("transform", function(d) {
              return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
            })
            .text(function(d) { return d.text; });
    }
</script>